[build]
builder = "DOCKERFILE"

[deploy]
healthcheckPath = "/health"
healthcheckTimeout = 30
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

[env]
PORT = "8080"
PYTHON_VERSION = "3.13"

# Web service configuration
[[services]]
name = "web"

[services.web]
source = "."
healthcheckPath = "/health"
healthcheckTimeout = 30
restartPolicyType = "ON_FAILURE"

[[services.web.ports]]
port = 8080
handlers = ["http"]

[services.web.env]
PORT = "8080"

# PostgreSQL database (optional - remove if not needed)
# [[services.postgres]]
# name = "postgres"
